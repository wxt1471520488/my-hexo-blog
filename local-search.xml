<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>【低脂版】香煎鸡胸肉</title>
    <link href="/2021/07/06/%E9%A6%99%E7%85%8E%E9%B8%A1%E8%83%B8%E8%82%89/"/>
    <url>/2021/07/06/%E9%A6%99%E7%85%8E%E9%B8%A1%E8%83%B8%E8%82%89/</url>
    
    <content type="html"><![CDATA[<blockquote><p>最近在减脂，研究了一个鸡胸肉的黑暗做法，材料简单，做法简单，不过味道还可以，干饭人，淦！</p></blockquote><h4 id="材料："><a href="#材料：" class="headerlink" title="材料："></a>材料：</h4><table><thead><tr><th>材料</th><th>用量</th></tr></thead><tbody><tr><td>鸡胸肉</td><td>看着来吧，我用了3块小胸肉</td></tr><tr><td>土豆</td><td>1个</td></tr><tr><td>红萝卜</td><td>半个</td></tr><tr><td>蒜瓣</td><td>3个</td></tr><tr><td>菜籽油</td><td>*</td></tr><tr><td>生抽</td><td>*</td></tr><tr><td>淀粉</td><td>*</td></tr></tbody></table><h4 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h4><h5 id="1-鸡胸肉切块（用鸡腿肉会更嫩一点），放入料酒，生抽，少量盐，少量淀粉，腌制20分钟左右。"><a href="#1-鸡胸肉切块（用鸡腿肉会更嫩一点），放入料酒，生抽，少量盐，少量淀粉，腌制20分钟左右。" class="headerlink" title="1.鸡胸肉切块（用鸡腿肉会更嫩一点），放入料酒，生抽，少量盐，少量淀粉，腌制20分钟左右。"></a>1.鸡胸肉切块（用鸡腿肉会更嫩一点），放入料酒，生抽，少量盐，少量淀粉，腌制20分钟左右。</h5><p><img src="https://img-blog.csdnimg.cn/20210707100757540.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="腌制时可以不放淀粉，等煎时在放，我比较懒"></p><h5 id="2-土豆、红萝卜洗净，削皮。"><a href="#2-土豆、红萝卜洗净，削皮。" class="headerlink" title="2.土豆、红萝卜洗净，削皮。"></a>2.土豆、红萝卜洗净，削皮。</h5><p><img src="https://img-blog.csdnimg.cn/20210707100853769.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="丈母娘给了一大袋子土豆...."></p><h5 id="3-土豆、红萝卜切块，蒜瓣切半，土豆块还是淘洗几遍，然后泡一会，排出淀粉。"><a href="#3-土豆、红萝卜切块，蒜瓣切半，土豆块还是淘洗几遍，然后泡一会，排出淀粉。" class="headerlink" title="3.土豆、红萝卜切块，蒜瓣切半，土豆块还是淘洗几遍，然后泡一会，排出淀粉。"></a>3.土豆、红萝卜切块，蒜瓣切半，土豆块还是淘洗几遍，然后泡一会，排出淀粉。</h5><p><img src="https://img-blog.csdnimg.cn/20210707101000991.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="刀工还得练"><br><img src="https://img-blog.csdnimg.cn/20210707102615562.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="4-锅热，喷油。"><a href="#4-锅热，喷油。" class="headerlink" title="4.锅热，喷油。"></a>4.锅热，喷油。<img src="https://img-blog.csdnimg.cn/20210707102216115.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="减脂中，少油，哈哈"></h5><h5 id="5-放蒜瓣，煎出蒜香。我们整个过程都是用小火煎，不要心急。"><a href="#5-放蒜瓣，煎出蒜香。我们整个过程都是用小火煎，不要心急。" class="headerlink" title="5.放蒜瓣，煎出蒜香。我们整个过程都是用小火煎，不要心急。"></a>5.放蒜瓣，煎出蒜香。我们整个过程都是用小火煎，不要心急。</h5><p><img src="https://img-blog.csdnimg.cn/20210707102339508.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="6-蒜煎香后放土豆块，接着煎，煎土豆时不要一直用铲子翻炒，一面煎的久一点，在翻面，这样不会软，口感也好。"><a href="#6-蒜煎香后放土豆块，接着煎，煎土豆时不要一直用铲子翻炒，一面煎的久一点，在翻面，这样不会软，口感也好。" class="headerlink" title="6.蒜煎香后放土豆块，接着煎，煎土豆时不要一直用铲子翻炒，一面煎的久一点，在翻面，这样不会软，口感也好。"></a>6.蒜煎香后放土豆块，接着煎，煎土豆时不要一直用铲子翻炒，一面煎的久一点，在翻面，这样不会软，口感也好。</h5><p><img src="https://img-blog.csdnimg.cn/20210707102410860.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="要用小火煎"></p><h5 id="7-土豆块每面都煎出一点点焦香，把土豆扒拉到一边，在另一边喷点油，开始煎红萝卜，因为红萝卜本身就可以生吃，所以我稍微煎一煎就好了，不喜欢生红萝卜味道的可以煎久一点。"><a href="#7-土豆块每面都煎出一点点焦香，把土豆扒拉到一边，在另一边喷点油，开始煎红萝卜，因为红萝卜本身就可以生吃，所以我稍微煎一煎就好了，不喜欢生红萝卜味道的可以煎久一点。" class="headerlink" title="7.土豆块每面都煎出一点点焦香，把土豆扒拉到一边，在另一边喷点油，开始煎红萝卜，因为红萝卜本身就可以生吃，所以我稍微煎一煎就好了，不喜欢生红萝卜味道的可以煎久一点。"></a>7.土豆块每面都煎出一点点焦香，把土豆扒拉到一边，在另一边喷点油，开始煎红萝卜，因为红萝卜本身就可以生吃，所以我稍微煎一煎就好了，不喜欢生红萝卜味道的可以煎久一点。</h5><p><img src="https://img-blog.csdnimg.cn/20210707102937953.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><p><img src="https://img-blog.csdnimg.cn/20210707102925889.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20210707102946987.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="8-土豆块和红萝卜煎香之后，盛出备用。"><a href="#8-土豆块和红萝卜煎香之后，盛出备用。" class="headerlink" title="8.土豆块和红萝卜煎香之后，盛出备用。"></a>8.土豆块和红萝卜煎香之后，盛出备用。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103057758.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="9-下面开始煎鸡胸肉。喷点油，鸡肉下锅，鸡块可以翻炒的稍微勤一点，小火煎，注意不要糊锅。"><a href="#9-下面开始煎鸡胸肉。喷点油，鸡肉下锅，鸡块可以翻炒的稍微勤一点，小火煎，注意不要糊锅。" class="headerlink" title="9.下面开始煎鸡胸肉。喷点油，鸡肉下锅，鸡块可以翻炒的稍微勤一点，小火煎，注意不要糊锅。"></a>9.下面开始煎鸡胸肉。喷点油，鸡肉下锅，鸡块可以翻炒的稍微勤一点，小火煎，注意不要糊锅。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103150149.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="10-鸡胸肉煎到8分熟左右，将土豆、红萝卜倒入在翻炒两下。"><a href="#10-鸡胸肉煎到8分熟左右，将土豆、红萝卜倒入在翻炒两下。" class="headerlink" title="10.鸡胸肉煎到8分熟左右，将土豆、红萝卜倒入在翻炒两下。"></a>10.鸡胸肉煎到8分熟左右，将土豆、红萝卜倒入在翻炒两下。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103356123.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p><h5 id="11-放盐，突然想起舍友还有小辣椒，又切了两根放进去，个人感觉有点辣味更好吃。"><a href="#11-放盐，突然想起舍友还有小辣椒，又切了两根放进去，个人感觉有点辣味更好吃。" class="headerlink" title="11.放盐，突然想起舍友还有小辣椒，又切了两根放进去，个人感觉有点辣味更好吃。"></a>11.放盐，突然想起舍友还有小辣椒，又切了两根放进去，个人感觉有点辣味更好吃。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103427785.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放盐"></p><h5 id="12-放生抽。"><a href="#12-放生抽。" class="headerlink" title="12.放生抽。"></a>12.放生抽。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103554638.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放生抽"></p><h5 id="13-在翻炒几下，出锅。又拍了个黄瓜，晚饭就这了O-∩-∩-O哈哈-。"><a href="#13-在翻炒几下，出锅。又拍了个黄瓜，晚饭就这了O-∩-∩-O哈哈-。" class="headerlink" title="13.在翻炒几下，出锅。又拍了个黄瓜，晚饭就这了O(∩_∩)O哈哈~。"></a>13.在翻炒几下，出锅。又拍了个黄瓜，晚饭就这了O(∩_∩)O哈哈~。</h5><p><img src="https://img-blog.csdnimg.cn/20210707103739580.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center"></p>]]></content>
    
    
    <categories>
      
      <category>darkCuisine</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>超多外卖大额优惠券领取</title>
    <link href="/2021/07/05/init/"/>
    <url>/2021/07/05/init/</url>
    
    <content type="html"><![CDATA[<h5 id="微信搜索关注公众号：外卖省钱优惠宝"><a href="#微信搜索关注公众号：外卖省钱优惠宝" class="headerlink" title="微信搜索关注公众号：外卖省钱优惠宝"></a>微信搜索关注公众号：外卖省钱优惠宝</h5><p><img src="https://user-images.githubusercontent.com/30682144/125018997-b9b97a00-e0a8-11eb-8298-04b1eaea7c89.png" alt="扫码_搜索联合传播样式-标准色版"></p><h5 id="每天都有外卖优惠券领取，超级省钱"><a href="#每天都有外卖优惠券领取，超级省钱" class="headerlink" title="每天都有外卖优惠券领取，超级省钱"></a>每天都有外卖优惠券领取，超级省钱</h5><p><a href="https://user-images.githubusercontent.com/30682144/125019398-8deac400-e0a9-11eb-92e9-e23d0db15f51.mp4">https://user-images.githubusercontent.com/30682144/125019398-8deac400-e0a9-11eb-92e9-e23d0db15f51.mp4</a></p>]]></content>
    
    
    <categories>
      
      <category>goodThing</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>【家常版】酸辣土豆丝</title>
    <link href="/2021/07/05/%E9%85%B8%E8%BE%A3%E5%9C%9F%E8%B1%86%E4%B8%9D/"/>
    <url>/2021/07/05/%E9%85%B8%E8%BE%A3%E5%9C%9F%E8%B1%86%E4%B8%9D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>酸辣土豆丝，最受欢迎的家常菜之一，贼下饭，简单好吃，下面开始我的黑暗菜谱。</p></blockquote><h4 id="材料："><a href="#材料：" class="headerlink" title="材料："></a>材料：</h4><table><thead><tr><th>名称</th><th>分量</th></tr></thead><tbody><tr><td>土豆</td><td>1个</td></tr><tr><td>蒜瓣</td><td>3个</td></tr><tr><td>干辣椒</td><td>3个</td></tr><tr><td>青椒</td><td>半个</td></tr><tr><td>酱油</td><td>*</td></tr><tr><td>醋</td><td>*</td></tr><tr><td>菜籽油</td><td>*</td></tr></tbody></table><h4 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h4><h5 id="1-将土豆洗净，擦丝（有条件的可以自己切丝，擦的没有灵魂╭-╯-╰-╮）。"><a href="#1-将土豆洗净，擦丝（有条件的可以自己切丝，擦的没有灵魂╭-╯-╰-╮）。" class="headerlink" title="1.将土豆洗净，擦丝（有条件的可以自己切丝，擦的没有灵魂╭(╯^╰)╮）。"></a>1.将土豆洗净，擦丝（有条件的可以自己切丝，擦的没有灵魂╭(╯^╰)╮）。</h5><p><img src="https://img-blog.csdnimg.cn/2021070609530329.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="土豆擦丝"></p><h5 id="2-把土豆丝用水淘洗个3、4遍，然后在将土豆丝泡个10分钟左右，目的是将土豆中的淀粉排干净，这样炒出来的土豆丝不会软趴趴的，比较脆。"><a href="#2-把土豆丝用水淘洗个3、4遍，然后在将土豆丝泡个10分钟左右，目的是将土豆中的淀粉排干净，这样炒出来的土豆丝不会软趴趴的，比较脆。" class="headerlink" title="2.把土豆丝用水淘洗个3、4遍，然后在将土豆丝泡个10分钟左右，目的是将土豆中的淀粉排干净，这样炒出来的土豆丝不会软趴趴的，比较脆。"></a>2.把土豆丝用水淘洗个3、4遍，然后在将土豆丝泡个10分钟左右，目的是将土豆中的淀粉排干净，这样炒出来的土豆丝不会软趴趴的，比较脆。</h5><p><img src="https://img-blog.csdnimg.cn/2021070610024868.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="泡土豆丝"></p><h5 id="3-泡土豆丝的同时，我们处理其它材料，将蒜拍碎切小块，青椒切丝，干辣椒一分为二，放一边备用。"><a href="#3-泡土豆丝的同时，我们处理其它材料，将蒜拍碎切小块，青椒切丝，干辣椒一分为二，放一边备用。" class="headerlink" title="3.泡土豆丝的同时，我们处理其它材料，将蒜拍碎切小块，青椒切丝，干辣椒一分为二，放一边备用。"></a>3.泡土豆丝的同时，我们处理其它材料，将蒜拍碎切小块，青椒切丝，干辣椒一分为二，放一边备用。</h5><p><img src="https://img-blog.csdnimg.cn/2021070610043372.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="准备其它材料"></p><h5 id="4-土豆丝泡好之后，沥干水分放一边备用，然后热锅下油。"><a href="#4-土豆丝泡好之后，沥干水分放一边备用，然后热锅下油。" class="headerlink" title="4.土豆丝泡好之后，沥干水分放一边备用，然后热锅下油。"></a>4.土豆丝泡好之后，沥干水分放一边备用，然后热锅下油。</h5><p><img src="https://img-blog.csdnimg.cn/20210706100622408.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放油"></p><h5 id="5-如果不知道油热程度，可以放个蒜块进去，方便知道油温。"><a href="#5-如果不知道油热程度，可以放个蒜块进去，方便知道油温。" class="headerlink" title="5.如果不知道油热程度，可以放个蒜块进去，方便知道油温。"></a>5.如果不知道油热程度，可以放个蒜块进去，方便知道油温。</h5><p><img src="https://img-blog.csdnimg.cn/20210706100847694.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="测油温"></p><h5 id="6-油热之后，下蒜块、辣椒爆香。"><a href="#6-油热之后，下蒜块、辣椒爆香。" class="headerlink" title="6.油热之后，下蒜块、辣椒爆香。"></a>6.油热之后，下蒜块、辣椒爆香。</h5><p><img src="https://img-blog.csdnimg.cn/20210706100947693.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="蒜、辣椒爆香"></p><h5 id="7-爆出香味之后，下青椒，翻炒半分钟。"><a href="#7-爆出香味之后，下青椒，翻炒半分钟。" class="headerlink" title="7.爆出香味之后，下青椒，翻炒半分钟。"></a>7.爆出香味之后，下青椒，翻炒半分钟。</h5><p><img src="https://img-blog.csdnimg.cn/20210706101048768.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放青椒"></p><h5 id="8-青椒断生之后，放土豆丝，大火翻炒。"><a href="#8-青椒断生之后，放土豆丝，大火翻炒。" class="headerlink" title="8.青椒断生之后，放土豆丝，大火翻炒。"></a>8.青椒断生之后，放土豆丝，大火翻炒。<img src="https://img-blog.csdnimg.cn/20210706101129479.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放土豆丝"></h5><h5 id="9-土豆丝翻炒5秒左右，放醋。"><a href="#9-土豆丝翻炒5秒左右，放醋。" class="headerlink" title="9.土豆丝翻炒5秒左右，放醋。"></a>9.土豆丝翻炒5秒左右，放醋。</h5><p><img src="https://img-blog.csdnimg.cn/20210706101606333.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放醋"></p><h5 id="10-放生抽。"><a href="#10-放生抽。" class="headerlink" title="10.放生抽。"></a>10.放生抽。</h5><p><img src="https://img-blog.csdnimg.cn/20210706101307873.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放生抽"></p><h5 id="11-在翻炒1分钟左右，放盐"><a href="#11-在翻炒1分钟左右，放盐" class="headerlink" title="11.在翻炒1分钟左右，放盐"></a>11.在翻炒1分钟左右，放盐<img src="https://img-blog.csdnimg.cn/20210706101348940.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="放盐"></h5><h5 id="12-在翻炒半分钟左右，出锅。"><a href="#12-在翻炒半分钟左右，出锅。" class="headerlink" title="12.在翻炒半分钟左右，出锅。"></a>12.在翻炒半分钟左右，出锅。</h5><p><img src="https://img-blog.csdnimg.cn/20210706101518781.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70#pic_center" alt="成品"></p><h5 id="13-开吃！"><a href="#13-开吃！" class="headerlink" title="13.开吃！"></a>13.开吃！</h5>]]></content>
    
    
    <categories>
      
      <category>darkCuisine</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>修改已经运行的docker容器的端口</title>
    <link href="/2021/06/29/%E4%BF%AE%E6%94%B9%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84docker%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3/"/>
    <url>/2021/06/29/%E4%BF%AE%E6%94%B9%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84docker%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3/</url>
    
    <content type="html"><![CDATA[<blockquote><p>一开始博客没有加Nginx，我把docker容器直接映射到了宿主机的80端口，后来加入了Nginx来管理静态资源、ssl等，这时候80端口被占用了，所以需要修改正在运行的docker容器映射的宿主机的端口。</p></blockquote><h4 id="一、删除原有容器，重新启动一个容器"><a href="#一、删除原有容器，重新启动一个容器" class="headerlink" title="一、删除原有容器，重新启动一个容器"></a>一、删除原有容器，重新启动一个容器</h4><p>把原来的容器删掉，重新启动一个，完了启动修改 端口映射 -p 为新的端口。</p><ul><li>这里我就不演示了，因为我没用这个方法，懒得重新配置一遍….</li></ul><h4 id="二、修改原有容器配置文件中的端口映射"><a href="#二、修改原有容器配置文件中的端口映射" class="headerlink" title="二、修改原有容器配置文件中的端口映射"></a>二、修改原有容器配置文件中的端口映射</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 获取正在运行的dokcer容器</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ ~]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE        COMMAND                  CREATED       STATUS        PORTS                                       NAMES<br>77e6bfccd1cd   hexo-image   <span class="hljs-string">&quot;docker-entrypoint.s…&quot;</span>   10 days ago   Up 36 hours   0.0.0.0:4000-&gt;4000/tcp, :::4000-&gt;4000/tcp   hexo-blog<br><span class="hljs-comment"># 我们先停掉正在运行的docker容器</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># docker stop hexo-blog</span><br><span class="hljs-comment"># 然后进入docker容器配置的容器列表路径，这里显示了我们运行过的容器的HASH值</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ ~]<span class="hljs-comment"># cd /var/lib/docker/containers/</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># ll</span><br>total 16<br>drwx-----x 4 root root 4096 Jun 29 22:24 0689cb3baaf4adfc9f1b7a30327080a584faebdb6af3a29ad02a9f987f419869<br>drwx-----x 4 root root 4096 Jun 29 22:24 1d0449bb8923092474efbdc6c9b65097898131105e7d5ea12809883a752fa407<br>drwx-----x 4 root root 4096 Jun 29 22:24 77e6bfccd1cd7cb85dc9548e507caf99052b80c95889304d6219ba54b894b896<br>drwx-----x 4 root root 4096 Jun 29 22:24 cf57f70841c097654c76787478a0648722ac8c9a0d9f88738495c36de4fc2ea5<br><span class="hljs-comment"># 这时我们进入以上边查询到容器的CONTAINER ID开头的文件夹，并打开 hostconfig.json 配置文件</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># vim 77e6bfccd1cd7cb85dc9548e507caf99052b80c95889304d6219ba54b894b896/hostconfig.json</span><br></code></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;Binds&quot;</span>:[<br>        <span class="hljs-string">&quot;/usr/hexo-blog/my-blog/:/usr/blog/my-blog/&quot;</span>,<br>        <span class="hljs-string">&quot;/usr/hexo-blog/:/usr/blog&quot;</span><br>    ],<br>    <span class="hljs-attr">&quot;ContainerIDFile&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;LogConfig&quot;</span>:&#123;<br>        <span class="hljs-attr">&quot;Type&quot;</span>:<span class="hljs-string">&quot;json-file&quot;</span>,<br>        <span class="hljs-attr">&quot;Config&quot;</span>:&#123;<br><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">&quot;NetworkMode&quot;</span>:<span class="hljs-string">&quot;default&quot;</span>,<br>    <span class="hljs-attr">&quot;PortBindings&quot;</span>:&#123;<br>        <span class="hljs-attr">&quot;80/tcp&quot;</span>:[<br>            &#123;<br>                <span class="hljs-attr">&quot;HostIp&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>                <span class="hljs-attr">&quot;HostPort&quot;</span>:<span class="hljs-string">&quot;80&quot;</span><br>            &#125;<br>        ]<br>    &#125;,<br>    <span class="hljs-attr">&quot;RestartPolicy&quot;</span>:&#123;<br>        <span class="hljs-attr">&quot;Name&quot;</span>:<span class="hljs-string">&quot;no&quot;</span>,<br>        <span class="hljs-attr">&quot;MaximumRetryCount&quot;</span>:<span class="hljs-number">0</span><br>    &#125;,<br>    <span class="hljs-attr">&quot;AutoRemove&quot;</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">&quot;VolumeDriver&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;VolumesFrom&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;CapAdd&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;CapDrop&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;CgroupnsMode&quot;</span>:<span class="hljs-string">&quot;host&quot;</span>,<br>    <span class="hljs-attr">&quot;Dns&quot;</span>:[<br><br>    ],<br>    <span class="hljs-attr">&quot;DnsOptions&quot;</span>:[<br><br>    ],<br>    <span class="hljs-attr">&quot;DnsSearch&quot;</span>:[<br><br>    ],<br>    <span class="hljs-attr">&quot;ExtraHosts&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;GroupAdd&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;IpcMode&quot;</span>:<span class="hljs-string">&quot;private&quot;</span>,<br>    <span class="hljs-attr">&quot;Cgroup&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;Links&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;OomScoreAdj&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;PidMode&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;Privileged&quot;</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">&quot;PublishAllPorts&quot;</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">&quot;ReadonlyRootfs&quot;</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">&quot;SecurityOpt&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;UTSMode&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;UsernsMode&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;ShmSize&quot;</span>:<span class="hljs-number">67108864</span>,<br>    <span class="hljs-attr">&quot;Runtime&quot;</span>:<span class="hljs-string">&quot;runc&quot;</span>,<br>    <span class="hljs-attr">&quot;ConsoleSize&quot;</span>:[<br>        <span class="hljs-number">0</span>,<br>        <span class="hljs-number">0</span><br>    ],<br>    <span class="hljs-attr">&quot;Isolation&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;CpuShares&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;Memory&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;NanoCpus&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CgroupParent&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;BlkioWeight&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;BlkioWeightDevice&quot;</span>:[<br><br>    ],<br>    <span class="hljs-attr">&quot;BlkioDeviceReadBps&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;BlkioDeviceWriteBps&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;BlkioDeviceReadIOps&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;BlkioDeviceWriteIOps&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;CpuPeriod&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CpuQuota&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CpuRealtimePeriod&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CpuRealtimeRuntime&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CpusetCpus&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;CpusetMems&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">&quot;Devices&quot;</span>:[<br><br>    ],<br>    <span class="hljs-attr">&quot;DeviceCgroupRules&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;DeviceRequests&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;KernelMemory&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;KernelMemoryTCP&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;MemoryReservation&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;MemorySwap&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;MemorySwappiness&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;OomKillDisable&quot;</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">&quot;PidsLimit&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;Ulimits&quot;</span>:<span class="hljs-literal">null</span>,<br>    <span class="hljs-attr">&quot;CpuCount&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;CpuPercent&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;IOMaximumIOps&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;IOMaximumBandwidth&quot;</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;MaskedPaths&quot;</span>:[<br>        <span class="hljs-string">&quot;/proc/asound&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/acpi&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/kcore&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/keys&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/latency_stats&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/timer_list&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/timer_stats&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/sched_debug&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/scsi&quot;</span>,<br>        <span class="hljs-string">&quot;/sys/firmware&quot;</span><br>    ],<br>    <span class="hljs-attr">&quot;ReadonlyPaths&quot;</span>:[<br>        <span class="hljs-string">&quot;/proc/bus&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/fs&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/irq&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/sys&quot;</span>,<br>        <span class="hljs-string">&quot;/proc/sysrq-trigger&quot;</span><br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><p>打开之后是个json，我们格式化，然后找到 <strong>PortBindings</strong> 这个key，以我的配置为例，其中4000/tcp对应的是docker容器内部的端口，HostPort对应的是映射到宿主机的端口。这时候我们修改宿主机的端口为自己想修改的端口，然后重启docker服务，再启动容器服务就可以了。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 重启docker服务</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># systemctl restart docker</span><br><span class="hljs-comment"># 启动dokcer容器</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># docker start hexo-blog</span><br></code></pre></td></tr></table></figure><h4 id="三、将已有的docker容器再打包成一个镜像"><a href="#三、将已有的docker容器再打包成一个镜像" class="headerlink" title="三、将已有的docker容器再打包成一个镜像"></a>三、将已有的docker容器再打包成一个镜像</h4><p>把已经配置好或者正在运行的容器，在打包成一个新的镜像，之后通个这个新镜像，重新启动一个80端口的容器，原有容器可以删除或者停掉。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 获取正在运行的dokcer容器</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ ~]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE        COMMAND                  CREATED       STATUS        PORTS                                       NAMES<br>77e6bfccd1cd   hexo-image   <span class="hljs-string">&quot;docker-entrypoint.s…&quot;</span>   10 days ago   Up 36 hours   0.0.0.0:4000-&gt;4000/tcp, :::4000-&gt;4000/tcp   hexo-blog<br><span class="hljs-comment"># 我们先停掉正在运行的docker容器</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># docker stop hexo-blog</span><br><span class="hljs-comment"># 将容器打包成镜像提交，命令是 docker commit 容器名字 新镜像名字:标签</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># docker commit hexo-blog wxt-hexo-blog:1.0</span><br>sha256:79f63a5a9f30632ed1617083166b0504f633b47d84e36694be51029883a146d4<br><span class="hljs-comment"># 这时候我们看已经有我们新的镜像了</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ containers]<span class="hljs-comment"># docker images</span><br>REPOSITORY      TAG       IMAGE ID       CREATED         SIZE<br>wxt-hexo-blog   1.0       79f63a5a9f30   8 seconds ago   950MB<br><span class="hljs-comment"># 我们启动一下，映射新的80端口</span><br>docker run --name new-hexo-blog -p 80:80 wxt-hexo-blog:1.0<br></code></pre></td></tr></table></figure><h4 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h4><ul><li>第一种：方式简单，干净利落，但是如果我们之前的容器中配置很多东西，需要从头重新配置一次，就很繁琐，如果容器很轻，没有什么东西，或者我们可以很迅速的配置一个新的容器，那第一种还是相对方便的；</li><li>第二种：不需要重新配置容器，操作也还是算简单，但是会短暂的停止整个dokcer服务，如果服务器内还有其他容器正在运行则也会受到影响；如果服务器内其它容器受到的影响可以忽略，那第二种是适合的；</li><li>第三种：相对前两种方法，不需要重新配置容器，也不会对其它容器造成影响，但是会多很多无用（我自认为是无用）的镜像，这个也是看自己关注不关注那些镜像吧。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>docker容器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用ssh登录远程服务器报错</title>
    <link href="/2021/06/17/%E4%BD%BF%E7%94%A8ssh%E7%99%BB%E5%BD%95%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8A%A5%E9%94%99/"/>
    <url>/2021/06/17/%E4%BD%BF%E7%94%A8ssh%E7%99%BB%E5%BD%95%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<p>今天使用ssh远程链接远程服务器时，突然报错了，报错如下图<br><img src="https://img-blog.csdnimg.cn/20210605093631587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70" alt="报错信息"></p><p>原因是我的远程服务器进行了重置，导致本地记录的验证信息过时了。</p><p>有两个办法可以解决：</p><ul><li>删除本地验证信息，看图我们可以知道验证信息就是/Users/wangxiaotao/.ssh/known_hosts  的known_hosts文件；执行命令 rm -rf ./known_hosts将验证信息删除,或者将远程服务器对应的配置信息删除；</li><li>不想改动known_hosts文件的话，可以利用 ssh-keygen -R [远程机器ip]:port  这个命令来删掉关于特定的远程机器的host信息。</li></ul>]]></content>
    
    
    <categories>
      
      <category>SSH</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ssh</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>InnoDB几个索引数据结构的区别</title>
    <link href="/2020/09/10/InnoDB%E5%87%A0%E4%B8%AA%E7%B4%A2%E5%BC%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2020/09/10/InnoDB%E5%87%A0%E4%B8%AA%E7%B4%A2%E5%BC%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="索引的本质"><a href="#索引的本质" class="headerlink" title="索引的本质"></a>索引的本质</h1><p>索引是帮助Mysql高效获取数据的==排好序==的==数据结构==</p><h1 id="索引数据结构"><a href="#索引数据结构" class="headerlink" title="索引数据结构"></a>索引数据结构</h1><p><img src="https://img-blog.csdnimg.cn/20210628173241991.png"><br>假如有如上一张表，如果想要查询col2=23的那行数据，如果没有索引或者不走索引的话，那么将要查询7次才会查询到，并且这7行数据在磁盘里并不是挨着存储的，查询效率会非常低。</p><h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><p><img src="https://img-blog.csdnimg.cn/20210628173314654.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70"></p><ul><li>如上图，我们可以考虑将col2列放在一个二叉树的数据结构中，同样还是查询col2=23的记录，则只需要查询3次就可以查询到，效率要比没有索引的高得多。</li><li>但是二叉树也有弊端，如col1，如果我们把一个按照大小顺序排序的列数据存入二叉树中，我们发现，最终其实会以类似链表的形式进行存储，我们在查询col1=7发现还是需要查询7次，所以对于这种有序的数据，并没有有效的提高查询效率。</li></ul><h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><ul><li>红黑树是一种二叉平衡树，可以保证单边叶子节点不超过3，如果超过则会进行自平衡，如图，可以发现它避免了二叉树的弊端。</li><li>但是使用红黑树的话，无法保证树的高度，假如我们表中对应索引行有1000万条数据，那么索引树会有1000万个节点，那么树的高度就是2的n次方=10000万，树的高度会很高，查询效率仍然会受到限制；另外，对于红黑树，每次单边超过3时，都会自平衡，需要成本较高的维护。</li></ul><h2 id="Hash表"><a href="#Hash表" class="headerlink" title="Hash表"></a>Hash表</h2><h3 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h3><p>对索引的key进行一次hash计算就可以定位出数据存储的位置</p><p>很多时候Hash索引要比B+ 树索引更高效</p><p>仅能满足 “=”，“IN”，不支持范围查询</p><p>hash冲突问题<br><img src="https://img-blog.csdnimg.cn/20210628173402954.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70"></p><h2 id="B-Tree"><a href="#B-Tree" class="headerlink" title="B-Tree"></a>B-Tree</h2><p>B-Tree实际上解决了红黑树高度不可控的问题，B-Tree以数据页的方式存储数据，对于红黑树每个节点只能存储一个索引数据，B-Tree可以存储一页索引数据，每个数据页又可以分叉成n个数据页，这样，每个节点存储的索引数据多了，树的高度就降低了。<br><img src="https://img-blog.csdnimg.cn/20210628173424117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70"></p><h3 id="特点：-1"><a href="#特点：-1" class="headerlink" title="特点："></a>特点：</h3><p>B-Tree<br>叶节点具有相同的深度，叶节点的指针为空<br>所有索引元素不重复<br>节点中的数据索引从左到右递增排列。</p><h2 id="B-Tree-1"><a href="#B-Tree-1" class="headerlink" title="B+Tree"></a>B+Tree</h2><h3 id="特点：-2"><a href="#特点：-2" class="headerlink" title="特点："></a>特点：</h3><p>非叶子节点不存储data，只存储索引(冗余)，可以放更多的索引<br>叶子节点包含所有索引字段<br>叶子节点用指针连接，提高区间访问的性能<br><img src="https://img-blog.csdnimg.cn/20210628173443567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI0Mzg5NA==,size_16,color_FFFFFF,t_70"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
    
    
    <categories>
      
      <category>Mysql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>InnoDB索引</tag>
      
      <tag>Mysql</tag>
      
      <tag>数据结构</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cent os 安装jdk</title>
    <link href="/2020/09/07/Centos%E5%AE%89%E8%A3%85jdk/"/>
    <url>/2020/09/07/Centos%E5%AE%89%E8%A3%85jdk/</url>
    
    <content type="html"><![CDATA[<h3 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h3><h4 id="创建安装目录"><a href="#创建安装目录" class="headerlink" title="创建安装目录"></a>创建安装目录</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">[root@iZ8vb7tm9o88h6ioml28vsZ usr]<span class="hljs-comment"># cd /usr</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ usr]<span class="hljs-comment"># mkdir java</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ usr]<span class="hljs-comment"># cd java</span><br></code></pre></td></tr></table></figure><h4 id="下载jdk-源码包"><a href="#下载jdk-源码包" class="headerlink" title="下载jdk 源码包"></a>下载jdk 源码包</h4><blockquote><p><a href="https://www.oracle.com/java/technologies/javase-downloads.html">Oracle 官网地址</a></p></blockquote><p>下载之后上传到服务器</p><p>如果感觉麻烦的话，也可以使用wget</p><blockquote><p>直接使用下载链接获取到的tar包是有问题的，oracle对链接进行了授权校验：wget <a href="https://download.oracle.com/otn/java/jdk/8u291-b10/d7fc238d0cbf4b0dac67be84580cfb4b/jdk-8u291-linux-x64.tar.gz">https://download.oracle.com/otn/java/jdk/8u291-b10/d7fc238d0cbf4b0dac67be84580cfb4b/jdk-8u291-linux-x64.tar.gz</a></p></blockquote><p>我们需要在下载链接之前加上 –no-cookies –no-check-certificate –header “Cookie: gpw_e24=http%3A%2F%2F<a href="http://www.oracle.com%2F">www.oracle.com%2F</a>; oraclelicense=accept-securebackup-cookie” ，如: </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">wget --no-cookies --no-check-certificate --header <span class="hljs-string">&quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot;</span> <span class="hljs-string">&quot;https://download.oracle.com/otn/java/jdk/8u291-b10/d7fc238d0cbf4b0dac67be84580cfb4b/jdk-8u291-linux-x64.tar.gz&quot;</span><br></code></pre></td></tr></table></figure><h4 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 解压包</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># tar -zxvf jdk-8u141-linux-x64.tar.gz</span><br><span class="hljs-comment"># 解压完之后会生成一个 jdk1.8.0_141 的文件夹</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># ls</span><br>jdk1.8.0_141  jdk-8u141-linux-x64.tar.gz<br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># cd jdk1.8.0_141/</span><br><span class="hljs-comment"># 获取当前文件夹得绝对路径，配置环境变量时会用</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ jdk1.8.0_141]<span class="hljs-comment"># pwd</span><br>/usr/java/java/jdk1.8.0_141<br></code></pre></td></tr></table></figure><h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">vim /etc/profile<br><br>在文件最后加上<br><span class="hljs-comment"># java</span><br><span class="hljs-built_in">export</span> JAVA_HOME=/usr/java/java/jdk1.8.0_141 <span class="hljs-comment">#上步 pwd 命令获取到的路径</span><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$PATH</span><br><span class="hljs-built_in">export</span> CLASSPATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib<br></code></pre></td></tr></table></figure><h4 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 使 profile 修改生效</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># source /etc/profile</span><br><span class="hljs-comment"># 验证结果</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># java -version</span><br>java version <span class="hljs-string">&quot;1.8.0_291&quot;</span><br>Java(TM) SE Runtime Environment (build 1.8.0_291-b10)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)<br></code></pre></td></tr></table></figure><h3 id="yum安装"><a href="#yum安装" class="headerlink" title="yum安装"></a>yum安装</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 搜索可用的jdk安装包</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># yum search java|grep jdk</span><br>ldapjdk-javadoc.noarch : Javadoc <span class="hljs-keyword">for</span> ldapjdk<br>java-1.6.0-openjdk.x86_64 : OpenJDK Runtime Environment<br>java-1.6.0-openjdk-demo.x86_64 : OpenJDK Demos<br>java-1.6.0-openjdk-devel.x86_64 : OpenJDK Development Environment<br>java-1.6.0-openjdk-javadoc.x86_64 : OpenJDK API Documentation<br>java-1.6.0-openjdk-src.x86_64 : OpenJDK Source Bundle<br>java-1.7.0-openjdk.x86_64 : OpenJDK Runtime Environment<br>java-1.7.0-openjdk-accessibility.x86_64 : OpenJDK accessibility connector<br>java-1.7.0-openjdk-demo.x86_64 : OpenJDK Demos<br>java-1.7.0-openjdk-devel.x86_64 : OpenJDK Development Environment<br>java-1.7.0-openjdk-headless.x86_64 : The OpenJDK runtime environment without<br>java-1.7.0-openjdk-javadoc.noarch : OpenJDK API Documentation<br>java-1.7.0-openjdk-src.x86_64 : OpenJDK Source Bundle<br>java-1.8.0-openjdk.i686 : OpenJDK Runtime Environment 8<br>java-1.8.0-openjdk.x86_64 : OpenJDK 8 Runtime Environment<br>java-1.8.0-openjdk-accessibility.i686 : OpenJDK accessibility connector<br>java-1.8.0-openjdk-accessibility.x86_64 : OpenJDK accessibility connector<br>java-1.8.0-openjdk-demo.i686 : OpenJDK Demos 8<br>java-1.8.0-openjdk-demo.x86_64 : OpenJDK 8 Demos<br>java-1.8.0-openjdk-devel.i686 : OpenJDK Development Environment 8<br>java-1.8.0-openjdk-devel.x86_64 : OpenJDK 8 Development Environment<br>java-1.8.0-openjdk-headless.i686 : OpenJDK Headless Runtime Environment 8<br>java-1.8.0-openjdk-headless.x86_64 : OpenJDK 8 Headless Runtime Environment<br>java-1.8.0-openjdk-javadoc.noarch : OpenJDK 8 API documentation<br>java-1.8.0-openjdk-javadoc-zip.noarch : OpenJDK 8 API documentation compressed<br>java-1.8.0-openjdk-src.i686 : OpenJDK Source Bundle 8<br>java-1.8.0-openjdk-src.x86_64 : OpenJDK 8 Source Bundle<br>java-11-openjdk.i686 : OpenJDK Runtime Environment 11<br>java-11-openjdk.x86_64 : OpenJDK 11 Runtime Environment<br>java-11-openjdk-demo.i686 : OpenJDK Demos 11<br>java-11-openjdk-demo.x86_64 : OpenJDK 11 Demos<br>java-11-openjdk-devel.i686 : OpenJDK Development Environment 11<br>java-11-openjdk-devel.x86_64 : OpenJDK 11 Development Environment<br>java-11-openjdk-headless.i686 : OpenJDK Headless Runtime Environment 11<br>java-11-openjdk-headless.x86_64 : OpenJDK 11 Headless Runtime Environment<br>java-11-openjdk-javadoc.i686 : OpenJDK 11 API documentation<br>java-11-openjdk-javadoc.x86_64 : OpenJDK 11 API documentation<br>java-11-openjdk-javadoc-zip.i686 : OpenJDK 11 API documentation compressed <span class="hljs-keyword">in</span> a<br>java-11-openjdk-javadoc-zip.x86_64 : OpenJDK 11 API documentation compressed <span class="hljs-keyword">in</span><br>java-11-openjdk-jmods.i686 : JMods <span class="hljs-keyword">for</span> OpenJDK 11<br>java-11-openjdk-jmods.x86_64 : JMods <span class="hljs-keyword">for</span> OpenJDK 11<br>java-11-openjdk-src.i686 : OpenJDK Source Bundle 11<br>java-11-openjdk-src.x86_64 : OpenJDK 11 Source Bundle<br>java-11-openjdk-static-libs.i686 : OpenJDK libraries <span class="hljs-keyword">for</span> static linking 11<br>java-11-openjdk-static-libs.x86_64 : OpenJDK 11 libraries <span class="hljs-keyword">for</span> static linking<br>java-latest-openjdk.x86_64 : OpenJDK 16 Runtime Environment<br>java-latest-openjdk-debug.x86_64 : OpenJDK 16 Runtime Environment with full<br>java-latest-openjdk-demo.x86_64 : OpenJDK 16 Demos<br>java-latest-openjdk-demo-debug.x86_64 : OpenJDK 16 Demos with full debugging on<br>java-latest-openjdk-demo-fastdebug.x86_64 : OpenJDK 16 Demos with minimal<br>java-latest-openjdk-devel.x86_64 : OpenJDK 16 Development Environment<br>java-latest-openjdk-devel-debug.x86_64 : OpenJDK 16 Development Environment with<br>java-latest-openjdk-devel-fastdebug.x86_64 : OpenJDK 16 Development Environment<br>java-latest-openjdk-fastdebug.x86_64 : OpenJDK 16 Runtime Environment with<br>java-latest-openjdk-headless.x86_64 : OpenJDK 16 Headless Runtime Environment<br>java-latest-openjdk-headless-debug.x86_64 : OpenJDK 16 Runtime Environment with<br>java-latest-openjdk-headless-fastdebug.x86_64 : OpenJDK 16 Runtime Environment<br>java-latest-openjdk-javadoc.x86_64 : OpenJDK 16 API documentation<br>java-latest-openjdk-javadoc-zip.x86_64 : OpenJDK 16 API documentation compressed<br>java-latest-openjdk-jmods.x86_64 : JMods <span class="hljs-keyword">for</span> OpenJDK 16<br>java-latest-openjdk-jmods-debug.x86_64 : JMods <span class="hljs-keyword">for</span> OpenJDK 16 with full<br>java-latest-openjdk-jmods-fastdebug.x86_64 : JMods <span class="hljs-keyword">for</span> OpenJDK 16 with minimal<br>java-latest-openjdk-src.x86_64 : OpenJDK 16 Source Bundle<br>java-latest-openjdk-src-debug.x86_64 : OpenJDK 16 Source Bundle <span class="hljs-keyword">for</span> packages<br>java-latest-openjdk-src-fastdebug.x86_64 : OpenJDK 16 Source Bundle<br>java-latest-openjdk-static-libs.x86_64 : OpenJDK 16 libraries <span class="hljs-keyword">for</span> static linking<br>java-latest-openjdk-static-libs-debug.x86_64 : OpenJDK 16 libraries <span class="hljs-keyword">for</span> static<br>java-latest-openjdk-static-libs-fastdebug.x86_64 : OpenJDK 16 libraries <span class="hljs-keyword">for</span><br>ldapjdk.noarch : The Mozilla LDAP Java SDK<br><span class="hljs-comment"># 安装</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ java]<span class="hljs-comment"># yum install java-1.8.0-openjdk</span><br><span class="hljs-comment"># 默认安装在 /usr/lib/jvm 下</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ jvm]<span class="hljs-comment"># cd /usr/lib/jvm/</span><br>[root@iZ8vb7tm9o88h6ioml28vsZ jvm]<span class="hljs-comment"># ls -l</span><br>total 4<br>drwxr-xr-x 3 root root 4096 Jun 20 18:33 java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64<br>lrwxrwxrwx 1 root root   21 Jun 20 18:33 jre -&gt; /etc/alternatives/jre<br>lrwxrwxrwx 1 root root   27 Jun 20 18:33 jre-1.8.0 -&gt; /etc/alternatives/jre_1.8.0<br>lrwxrwxrwx 1 root root   35 Jun 20 18:33 jre-1.8.0-openjdk -&gt; /etc/alternatives/jre_1.8.0_openjdk<br>lrwxrwxrwx 1 root root   51 Jun 20 18:33 jre-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64 -&gt; java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre<br>lrwxrwxrwx 1 root root   29 Jun 20 18:33 jre-openjdk -&gt; /etc/alternatives/jre_openjdk<br></code></pre></td></tr></table></figure><p>安装完之后同样配置环境变量，验证结果。</p>]]></content>
    
    
    <categories>
      
      <category>CentOs</category>
      
    </categories>
    
    
    <tags>
      
      <tag>jdk</tag>
      
      <tag>centos</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>将本地项目推送到git 远程仓库</title>
    <link href="/2020/05/11/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0git%20%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/"/>
    <url>/2020/05/11/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0git%20%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h3 id="将本地项目推送到git-远程仓库"><a href="#将本地项目推送到git-远程仓库" class="headerlink" title="将本地项目推送到git 远程仓库"></a>将本地项目推送到git 远程仓库</h3><blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 初始化本地文件夹，加入git控制</span><br>git init<br><span class="hljs-meta">#</span><span class="bash"> 将文件 添加到git 暂存区</span><br>git add .<br><span class="hljs-meta">#</span><span class="bash"> 将文件提交到本地仓库</span><br>git commit -m &quot;first commit&quot;<br><span class="hljs-meta">#</span><span class="bash"> 创建一个名字为’main‘的远程分支</span><br>git branch -M main<br><span class="hljs-meta">#</span><span class="bash"> 绑定本地仓库和远程仓库</span><br>git remote add origin git@github.com:wxt1471520488/my-blog.git<br><span class="hljs-meta">#</span><span class="bash"> 将本地仓库的文件改动推动到远程仓库</span><br>git push origin main<br></code></pre></td></tr></table></figure></blockquote>]]></content>
    
    
    <categories>
      
      <category>GIT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ssh</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>代码实现单表的分库分表</title>
    <link href="/2019/06/17/%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%A8%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/"/>
    <url>/2019/06/17/%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%A8%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="啥叫分库分表？"><a href="#啥叫分库分表？" class="headerlink" title="啥叫分库分表？"></a>啥叫分库分表？</h3><p>​       简单点说就是当我们遇到访问极为频繁且数据量巨大的库表的时候，我们首先想到的就是减少单库单表的数据量，以便减少数据查询所需要的时间，提高数据库的吞吐，这就是所谓的分库分表。</p><h3 id="为什么要都开始考虑起来分库分表？"><a href="#为什么要都开始考虑起来分库分表？" class="headerlink" title="为什么要都开始考虑起来分库分表？"></a>为什么要都开始考虑起来分库分表？</h3><p>​       当我们在开发一些用户量小的系统时，比如公司自用的后台系统，相对是比较轻松的，因为你无需特别专注的考虑高并发，高访问，大数据量等问题，所以对于数据库乃至一些表的设计，对当用户量比较小时还可以跑的通，但是随着量越来越大，动不动就上千万，上亿的数据，光靠加索引或对sql往死里优化还是远远不够的，这时候我们就该考虑是否到了对数据库需要进行分库分表的时候了，当然决定了一定要速战速决，因为数据量增长的速度比你犹豫的速度要快的多。</p><h3 id="如何进行分库分表？"><a href="#如何进行分库分表？" class="headerlink" title="如何进行分库分表？"></a>如何进行分库分表？</h3><p>​       对于分库分表，现在基本都是<em>水平分</em>和<em>垂直分</em>：(1)水平分就是根据一定规则，例如按照时间或业务唯一ID等对数据进行的拆分。比如根据年份来拆分不同的数据库。每个数据库结构一致，但是数据会平均，从而提升性能；(2)垂直分就是按照业务进行划分，例如将用户相关的放一个库，订单相关的放一个库。</p><h4 id="1-分库："><a href="#1-分库：" class="headerlink" title="1.分库："></a>1.分库：</h4><p>​      先来讨论下分库，很多项目一开始基本都是一个库，各种业务的表都在一起，随着表越来越多，变得越来越来不好维护，老表新表掺杂在一起，一些废弃的表也没有及时做清理(我真的要吐了，所以文档是多么的重要)。对于分库，我现在使用较多的是垂直分，按照业务分， 比如我们将和用户端无用的一些用于统计的表单独放在一个库里，这样做好处是这些统计表不会参与用户测相关表的join查询操作，并且对于统计表进行需要进行大量计算，这样其实可以更放心的去查数据算数据不用担心影响到用户测的业务，所以对于类似的表进行垂直分库是完全没有问题的。对于水平分库目前没有实践，只是懂一些原理，就….</p><h4 id="2-分表："><a href="#2-分表：" class="headerlink" title="2.分表："></a>2.分表：</h4><p>​    (1)对于向用户ID这样的数值类型我们可以对要分的表的数量取余(userId % count)来进行分表，根据这个路由策略，可以将记录根据userId路由到不同的表中，达到分表的母的。路由帮助方法示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 分表基数</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Integer COUNT = <span class="hljs-number">20</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 根据用户ID获取分表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 15:22</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> userId 用户ID</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> RuntimeException 用户ID参数异常</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getSuffixByUserId</span><span class="hljs-params">(Long userId)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(Objects.isNull(userId) || userId &lt;= <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(String.format(<span class="hljs-string">&quot;用户ID有误 , userId : %s&quot;</span>, userId));<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">&quot;_g0_p%s&quot;</span>, userId % COUNT);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>可能大家有疑问，为什么表后缀是”_g0_p0”，这样目的是为了以后可能会再次进行分表，因为这种方式最大的弊端就是我们需要预先确定下表的数量，但是随着量的增长，及时现在分了，以后还是会有再次达到记录阈值的那天；以后如果需要再次进行分表的话，我可以修改为”_g1”再次实现分表。</p><p>​    (2)上边是定表，不定单表记录量的，我们还可以讨论下定表记录数，不行表的。就是我们规定每张表最大数据量假如为100w，那么当第一张表数据量达到后自动开始向下张表存数据。如何实现呢，其实思想大同小异，我们可以维护一个全局的记录总数，每次获取表后缀时判断是否需要取新的表，路由帮助方法示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 单张表记录的最大数量</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> COUNT = <span class="hljs-number">1000000L</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 获取表的坐标</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 16:15</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> count 当前记录数</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 表坐标</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> RuntimeException 记录数参数异常</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getTableIndexVal</span><span class="hljs-params">(<span class="hljs-keyword">long</span> count)</span></span>&#123;<br>    <span class="hljs-keyword">if</span> (count &lt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">&quot;记录数有误&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">long</span> index = count % COUNT == <span class="hljs-number">0</span> ? count / COUNT - <span class="hljs-number">1</span> : count / COUNT;<br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>) index;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>需要注意的是一定要在业务记录量达到阈值之前创建新表，我们可以起个定时任务，在表记录达到90w时就创建下张表，预先创建表。</p><p>​       (3)对于向UUID这样的我们可以取UUID的最后一位或最后两位进行分表，以最后一位举例，我们知道UUID是一个数字和字母组成的伪随机字段串，这样的话最后一位就是0-9a-z(26 + 10)，可以建立36张表，同上，表后缀可以是”_g0_pa”，大家没有问题吧。哈哈，坑来了，强调一下，UUID 是由一组32位数的<strong>16进制数字</strong>所构成，所以不是26个字母只有a-f，所以即使按照这种方式创建了表，也是永远用不到的，所以每个小知识点都要熟透啊，我就是对UUID没怎么真正了解，结果…；话说回来，这样的方式确实表的量是死的，那么怎么也变成稍微活一点呢?</p><p>​    (4)我们取UUID的hashcode，这样我们又得到了一个数值类型的唯一标识，同理我们可以这样做，路由帮助方法示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 分表基数</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Integer COUNT = <span class="hljs-number">20</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 根据uuid获取表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 15:41</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> uuid uuid</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> RuntimeException uuid参数异常</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getSuffixByUserId</span><span class="hljs-params">(String uuid)</span></span>&#123;<br>    <span class="hljs-keyword">if</span> (StringUtils.isBlank(uuid)) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">&quot;designID 为空&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// 取uuid的hashcode绝对值对20取模的值</span><br>    <span class="hljs-keyword">int</span> code = uuid.toLowerCase().hashCode();<br>    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">&quot;_g0_p%s&quot;</span>, Math.abs(code) % COUNT);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>​    (5)除了上边这种通过唯一标识进行水平分的，我们还可以通过日期进行分表，比如上边提到的一些统计数据表，表本身没有什么业务逻辑，只需要按照日期定期进行数据统计，那我们通过日期进行分表再好不过了；我们按照季度进行分表，一年4张统计数据表，这样分表最好定个闹铃，每个月提醒建表，或者你一次性建个几十年的，O(∩_∩)O哈哈~，路由帮助方法示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 临时年份值</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> tempYearByYearAndSeason;<br><span class="hljs-comment">// 临时月份值</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Month tempMonthByYearAndSeason;<br><span class="hljs-comment">// 临时表名称后缀</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String tempNameSuffixByYearAndSeason;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 获取表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 15:49</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> year 年</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> month 月</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 表后缀</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">calcNameSuffix</span><span class="hljs-params">(<span class="hljs-keyword">int</span> year, Month month)</span> </span>&#123;<br>    <span class="hljs-comment">// 计算当前属于那个季度，从0开始</span><br>    <span class="hljs-keyword">int</span> quarterCount = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">switch</span> (month) &#123;<br>        <span class="hljs-keyword">case</span> JANUARY:<br>        <span class="hljs-keyword">case</span> FEBRUARY:<br>        <span class="hljs-keyword">case</span> MARCH:<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> APRIL:<br>        <span class="hljs-keyword">case</span> MAY:<br>        <span class="hljs-keyword">case</span> JUNE:<br>            quarterCount += <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> JULY:<br>        <span class="hljs-keyword">case</span> AUGUST:<br>        <span class="hljs-keyword">case</span> SEPTEMBER:<br>            quarterCount += <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> OCTOBER:<br>        <span class="hljs-keyword">case</span> NOVEMBER:<br>        <span class="hljs-keyword">case</span> DECEMBER:<br>            quarterCount += <span class="hljs-number">3</span>;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">default</span>:<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">&quot;system error&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">&quot;_g%s_p%s&quot;</span>, year, quarterCount);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">  设置初始值</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">static</span> &#123;<br>    LocalDate now = LocalDate.now();<br>    tempNameSuffixByYearAndSeason = calcNameSuffix(now.getYear(), now.getMonth());<br>    tempYearByYearAndSeason = now.getYear();<br>    tempMonthByYearAndSeason = now.getMonth();<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 获取表后缀</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 15:51</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 表后缀</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getNameSuffixByYearAndSeason</span><span class="hljs-params">()</span> </span>&#123;<br>    LocalDate now = LocalDate.now();<br>    <span class="hljs-keyword">int</span> year = now.getYear();<br>    Month month = now.getMonth();<br>    <span class="hljs-comment">// 当年月份交替时需要重置静态数据</span><br>    <span class="hljs-keyword">if</span> (year == tempYearByYearAndSeason &amp;&amp; month.equals(tempMonthByYearAndSeason)) &#123;<br>        <span class="hljs-keyword">return</span> Objects.requireNonNull(tempNameSuffixByYearAndSeason);<br>    &#125;<br><br>    tempNameSuffixByYearAndSeason = calcNameSuffix(year, month);<br>    tempYearByYearAndSeason = year;<br>    tempMonthByYearAndSeason = month;<br>    <span class="hljs-keyword">return</span> tempNameSuffixByYearAndSeason;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><h3 id="分库分表之后，主键ID该怎么维护？"><a href="#分库分表之后，主键ID该怎么维护？" class="headerlink" title="分库分表之后，主键ID该怎么维护？"></a>分库分表之后，主键ID该怎么维护？</h3><p>​      上边我们通过简单的代码，基本已经实现了分库分表，不要高兴太早，原来单表时，我们是有主键ID的，一般都是自增ID，那么进行分表之后，每张表都会有各自的主键自增ID，那么怎么维护一个全局的主键ID呢，下面我们在讨论一下这个问题：</p><p>​      (1)利用数据库本身。我们可以在单独创建一张ID表，每次在新增数据时，先向ID表中插入一条数据，获取最新主键ID之后再向分表中插入业务数据；基本这只是一个思路，面临获取ID的性能、ID表记录会无限多等问题不考虑线上使用</p><p>​      (2)利用Redis。利用redis的incr命令，每次在插入数据之前，先从redis获取到id，下次获取自动累计，达到自增的作用。示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// redis存储全局自增主键ID的key</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String TABLE_RECORD_COUNT_KEY = <span class="hljs-string">&quot;xxx-table.primary-key.record&quot;</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@desc</span> 获取主键ID</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> dataozi</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/4/11 16:20</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> 数量</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">incr</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// cache是我们封装的jedis帮助类</span><br>    <span class="hljs-keyword">if</span> (cache == <span class="hljs-keyword">null</span>) &#123;<br>        <span class="hljs-comment">// 这里加锁，防止多个线程同时设置</span><br>        <span class="hljs-keyword">synchronized</span> (XXXX.class) &#123;<br>            <span class="hljs-keyword">if</span> (cache == <span class="hljs-keyword">null</span>) &#123;<br>                cache = cacheDef.getCACHE19();<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> cache.incr(TABLE_RECORD_COUNT_KEY);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>​    (3)其它一些较成熟的自增id的类库，因为没线上实践过，所以…略过</p><h3 id="如何对已有表进行分表？"><a href="#如何对已有表进行分表？" class="headerlink" title="如何对已有表进行分表？"></a>如何对已有表进行分表？</h3><p>​    对于一些新表好说，我们可以都设计好了在去上线使用，但是我们实际在分表时，有很多是已经在业务使用的表，已经使用的表如何分表呢？这里讨论的是怎么实现由老表向新表的过渡。</p><p>   (1)停止服务。告诉用户我们要大更新，晚上几点到几点暂停运营，然后在这期间老表没有了新数据的插入，我们可以很方便将历史数据同步到新表，在部署代码，充分测试上线。看似没有任何问题是吧，最大的问题就是方案本身的问题，我们停止了服务，举个不恰当的例子，你怎么判断你的电脑有没有网，是不是打开百度或google随便搜个啥东西，从另外一个方面体现出人家的服务是多么的稳定，所以只要有其它方案，我们绝不考虑停机去干一些事情。</p><p>​    (2)双向同步。不停机我们怎么实现新老表的平滑过渡呢，我们需要先在老表插入数据的地方同步向新表插入并上线，这样入口打通了，然后是历史数据，在搞个定时任务去同步历史数据，等历史数据同步完之后，新表数据和老表就完全一致了，因为历史数据有了，并且新数据会同步向新老表插入，最后一步就是修改查询，将所有从老表查询的地方改为从新表查询，同时去掉向老表插入数据的代码上线，这样老表没有任何使用的地方，任由处置。</p>]]></content>
    
    
    <categories>
      
      <category>解决方案</category>
      
    </categories>
    
    
    <tags>
      
      <tag>分库分表</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>填上IntegerCache的坑</title>
    <link href="/2017/10/16/%E5%A1%AB%E4%B8%8AIntegerCache%E7%9A%84%E5%9D%91/"/>
    <url>/2017/10/16/%E5%A1%AB%E4%B8%8AIntegerCache%E7%9A%84%E5%9D%91/</url>
    
    <content type="html"><![CDATA[<blockquote><p>初入职场时，确实被IntegerCache坑过一次，如下代码，本地跑程序都没问题，一到线上就不行，原因就是IntegerCache的问题，比较两个Integer时，本地数据少，数值也小，正好都是true，正式数据多，可能就因为IntegerCache的问题导致该是true的为false了，导致程序的执行出错。<br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//......</span><br>Integer a = <span class="hljs-number">200</span>;<br>Integer b = <span class="hljs-number">200</span>;<br><span class="hljs-keyword">if</span>(a == b)&#123;<br>    <span class="hljs-comment">//......</span><br>&#125;<br><span class="hljs-comment">//......</span><br></code></pre></td></tr></table></figure></p></blockquote><p>我们直接看Integer类的源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IntegerCache</span> </span>&#123;<br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> low = -<span class="hljs-number">128</span>;<br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> high;<br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Integer cache[];<br><br>        <span class="hljs-keyword">static</span> &#123;<br>            <span class="hljs-comment">// high value may be configured by property</span><br>            <span class="hljs-keyword">int</span> h = <span class="hljs-number">127</span>;<br>            String integerCacheHighPropValue =<br>                sun.misc.VM.getSavedProperty(<span class="hljs-string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);<br>            <span class="hljs-keyword">if</span> (integerCacheHighPropValue != <span class="hljs-keyword">null</span>) &#123;<br>                <span class="hljs-keyword">int</span> i = parseInt(integerCacheHighPropValue);<br>                i = Math.max(i, <span class="hljs-number">127</span>);<br>                <span class="hljs-comment">// Maximum array size is Integer.MAX_VALUE</span><br>                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="hljs-number">1</span>);<br>            &#125;<br>            high = h;<br><br>            cache = <span class="hljs-keyword">new</span> Integer[(high - low) + <span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">int</span> j = low;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; cache.length; k++)<br>                cache[k] = <span class="hljs-keyword">new</span> Integer(j++);<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">IntegerCache</span><span class="hljs-params">()</span> </span>&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以看到，Integer内部维护着IntegerCache的一个内部类，我们分析一下这个IntegerCache,它维护着两个静态int常量，和一个静态的Integer数组，然后静态块里初始化了high值和cache数组，并且将low到high中的数值add到了cache中，并且可以看到low值是常量-128,high值我们是可以通过配置文件配置的，也就是说我们可以根据jvm自行修改IntegerCache的阈值(最大值)，只是看IntegerCache的话发现很简单，接下来我们结合Integer的几个方法在分析一下：</p><p>Integer的构造方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Integer</span><span class="hljs-params">(<span class="hljs-keyword">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.value = value;<br>&#125;<br></code></pre></td></tr></table></figure><p>Integer的parstInt方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Integer <span class="hljs-title">valueOf</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>&#123;<br>        <span class="hljs-keyword">assert</span> IntegerCache.high &gt;= <span class="hljs-number">127</span>;<br>        <span class="hljs-keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)<br>            <span class="hljs-keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Integer(i);<br>&#125;<br></code></pre></td></tr></table></figure><p>Integer的parstInt方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">parseInt</span><span class="hljs-params">(String s, <span class="hljs-keyword">int</span> radix)</span> <span class="hljs-keyword">throws</span> NumberFormatException </span>&#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * WARNING: This method may be invoked early during VM initialization</span><br><span class="hljs-comment">         * before IntegerCache is initialized. Care must be taken to not use</span><br><span class="hljs-comment">         * the valueOf method.</span><br><span class="hljs-comment">         */</span><br><br>        <span class="hljs-keyword">if</span> (s == <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">&quot;null&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (radix &lt; Character.MIN_RADIX) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">&quot;radix &quot;</span> + radix +<br>                                            <span class="hljs-string">&quot; less than Character.MIN_RADIX&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (radix &gt; Character.MAX_RADIX) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">&quot;radix &quot;</span> + radix +<br>                                            <span class="hljs-string">&quot; greater than Character.MAX_RADIX&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">boolean</span> negative = <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, len = s.length();<br>        <span class="hljs-keyword">int</span> limit = -Integer.MAX_VALUE;<br>        <span class="hljs-keyword">int</span> multmin;<br>        <span class="hljs-keyword">int</span> digit;<br><br>        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">char</span> firstChar = s.charAt(<span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">if</span> (firstChar &lt; <span class="hljs-string">&#x27;0&#x27;</span>) &#123; <span class="hljs-comment">// Possible leading &quot;+&quot; or &quot;-&quot;</span><br>                <span class="hljs-keyword">if</span> (firstChar == <span class="hljs-string">&#x27;-&#x27;</span>) &#123;<br>                    negative = <span class="hljs-keyword">true</span>;<br>                    limit = Integer.MIN_VALUE;<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (firstChar != <span class="hljs-string">&#x27;+&#x27;</span>)<br>                    <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br><br>                <span class="hljs-keyword">if</span> (len == <span class="hljs-number">1</span>) <span class="hljs-comment">// Cannot have lone &quot;+&quot; or &quot;-&quot;</span><br>                    <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br>                i++;<br>            &#125;<br>            multmin = limit / radix;<br>            <span class="hljs-keyword">while</span> (i &lt; len) &#123;<br>                <span class="hljs-comment">// Accumulating negatively avoids surprises near MAX_VALUE</span><br>                digit = Character.digit(s.charAt(i++),radix);<br>                <span class="hljs-keyword">if</span> (digit &lt; <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br>                &#125;<br>                <span class="hljs-keyword">if</span> (result &lt; multmin) &#123;<br>                    <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br>                &#125;<br>                result *= radix;<br>                <span class="hljs-keyword">if</span> (result &lt; limit + digit) &#123;<br>                    <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br>                &#125;<br>                result -= digit;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">throw</span> NumberFormatException.forInputString(s);<br>        &#125;<br>        <span class="hljs-keyword">return</span> negative ? result : -result;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以看到，通过Integer的构造方法创建Integer对象时，并不会跟IntegerCache扯上关系，也就是说创建多少个都是新对象，比较的话都是false，因为他们的地址值都不一样；parseInt方法返回的是int基本类型，所以跟IntegerCache也没有关系；我们再来看一下valueOf方法，在给定的IntegerCache的阈值范围内，Integer对象都是从cache数组中取到的，而内部类都是懒加载，在使用时加载内部类，并且创建阈值之内的所有Integer对象并存入cache中，cache是静态常量数组，由常量池维护着，cache被所有的Integer对象共享，所以只要是比较cache阈值之内的两个Integer的结果都是true，因为本身他们就是同一个对象。(ps:Integer a = 1; 默认调用的是valueOf方法)。</p><p>到此为止，我们应该对IntegerCache有了一定的了解，那么做点习题巩固一下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer x = <span class="hljs-number">1</span>;<br>Integer y = <span class="hljs-number">1</span>;<br>System.out.println(String.format(<span class="hljs-string">&quot;1:%s&quot;</span>,x == y));<span class="hljs-comment">// 1</span><br>x = <span class="hljs-number">127</span>;<br>y = <span class="hljs-number">127</span>;<br>System.out.println(String.format(<span class="hljs-string">&quot;2:%s&quot;</span>,x == y));<span class="hljs-comment">// 2</span><br>x = <span class="hljs-number">128</span>;<br>y = <span class="hljs-number">128</span>;<br>System.out.println(String.format(<span class="hljs-string">&quot;3:%s&quot;</span>,x == y));<span class="hljs-comment">// 3</span><br>x = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">1</span>);<br>y = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">1</span>);<br>System.out.println(String.format(<span class="hljs-string">&quot;4:%s&quot;</span>,x == y));<span class="hljs-comment">// 4</span><br>x = Integer.parseInt(<span class="hljs-string">&quot;127&quot;</span>);<br>y = Integer.parseInt(<span class="hljs-string">&quot;127&quot;</span>);<br>System.out.println(String.format(<span class="hljs-string">&quot;5:%s&quot;</span>,x == y));<span class="hljs-comment">// 5</span><br>x = Integer.parseInt(<span class="hljs-string">&quot;128&quot;</span>);<br>y = Integer.parseInt(<span class="hljs-string">&quot;128&quot;</span>);<br>System.out.println(String.format(<span class="hljs-string">&quot;6:%s&quot;</span>,x == y));<span class="hljs-comment">// 6</span><br>x = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">1</span>);<br>System.out.println(String.format(<span class="hljs-string">&quot;7:%s&quot;</span>,x == y));<span class="hljs-comment">// 7</span><br>x = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">128</span>);<br>System.out.println(String.format(<span class="hljs-string">&quot;8:%s&quot;</span>,x == y));<span class="hljs-comment">// 8</span><br></code></pre></td></tr></table></figure><p>结果：</p><p>1:true<br> 2:true<br> 3:false<br> 4:false<br> 5:true<br> 6:false<br> 7:false<br> 8:false</p><p>如果你都做对了，那么你对IntegerCache已经算是过关了，^_^！！！这里在说一下x = Integer.parseInt(“127”)和y = Integer.parseInt(“127”)这两个比较，因为parstInt()方法返回的是int基本类型,自动装箱，就变成了Integer x = 127;调用valueOf方法,所以判断结果和直接调用valueOf方法是一样的。</p><p>续：下边输出结果是什么</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>    Integer x = <span class="hljs-number">1</span>;<br>    Integer y = <span class="hljs-number">1</span>;<br>    System.out.println(x.equals(y));<br>&#125;<br></code></pre></td></tr></table></figure><p>上边x和y都是各自创建了一个新的Integer对象，两个引用对象去equals的话，一般是比较地址值，返回应该是false，但是像Integer和String这种类，都重写了equals方法，Integer的equals实际就是两个int基本类型的值比较，所以返回的是true。如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Compares this object to the specified object.  The result is</span><br><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> true&#125; if and only if the argument is not</span><br><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> null&#125; and is an &#123;<span class="hljs-doctag">@code</span> Integer&#125; object that</span><br><span class="hljs-comment"> * contains the same &#123;<span class="hljs-doctag">@code</span> int&#125; value as this object.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span>   obj   the object to compare with.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span>  &#123;<span class="hljs-doctag">@code</span> true&#125; if the objects are the same;</span><br><span class="hljs-comment"> *          &#123;<span class="hljs-doctag">@code</span> false&#125; otherwise.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object obj)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> Integer) &#123;<br>        <span class="hljs-keyword">return</span> value == ((Integer)obj).intValue();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>另外，除了Integer，向Long、Double等包装类，都有缓存区的操作，所以在使用两个包装类进行相等判断时需要注意，最好使用equals方法，引用类判断是否相等就应该使用equals方法，然后重写equals实现我们想要的相等规则。使用包装类型和基本类型做判断则不需要，会自动拆箱。</p>]]></content>
    
    
    <categories>
      
      <category>Java基础</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Integer</tag>
      
      <tag>IntegerCache</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
